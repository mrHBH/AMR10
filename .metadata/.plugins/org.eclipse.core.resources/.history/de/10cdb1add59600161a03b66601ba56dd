package parkingRobot.hsamr0.Navigation;

import lejos.robotics.navigation.Pose;

public class NavigationHandler {

	private Straight currentStraight;
	
	private Straight initCourse(){
		//init the straights
		StraightParking s1 = new StraightParking(new Pose(0,0,0)); //long straight at the x-axis
		StraightParking s2 = new StraightParking(new Pose(210,0,90)); //middle long straight parallel to y-axis at the very right
		StraightEmpty s3 = new StraightEmpty(); //short straight at the top right parallel to x-axis
		StraightEmpty s4 = new StraightEmpty(); //short straight downwards at the right parallel to y-axis
		StraightParking s5 = new StraightParking(); //middle long straight parallel to x-axis at the top
		StraightEmpty s6 = new StraightEmpty(); //short straight at the top left parallel to y-axis
		StraightEmpty s7 = new StraightEmpty(); //short straight at the top left parallel to x-axis
		StraightEmpty s8 = new StraightEmpty(); //middle long straight at the left parallel to y-axis
		
		//set the followers
		s1.setFollowingStraight(s2, TurnDirection.LEFT, Axis.X_AXIS);
		s2.setFollowingStraight(s3, TurnDirection.LEFT, Axis.Y_AXIS);
		s3.setFollowingStraight(s4, TurnDirection.LEFT, Axis.X_AXIS);
		s4.setFollowingStraight(s5, TurnDirection.RIGHT, Axis.Y_AXIS);
		s5.setFollowingStraight(s6, TurnDirection.RIGHT, Axis.X_AXIS);
		s6.setFollowingStraight(s7, TurnDirection.LEFT, Axis.Y_AXIS);
		s7.setFollowingStraight(s8, TurnDirection.LEFT, Axis.X_AXIS);
		s8.setFollowingStraight(s1, TurnDirection.LEFT, Axis.Y_AXIS);
		
		return s1;
	}
	
	public NavigationHandler(){
		currentStraight = this.initCourse();
	}
	
}
